# 운영 Runbook

이 문서는 운영자가 장애/이슈 발생 시 참고할 절차를 정리합니다.

## 1. 서비스 상태 확인

- Backend:
  - 헬스 체크: `GET /`.
  - 로그에서 오류 메시지 확인.
- Frontend:
  - 주요 페이지(`/plan`, `/dashboard` 등) 접속 여부 확인.

## 2. DB 관련 문제

- 증상:
  - `/test-db` 실패.
  - 최적화 실행 시 DB 에러.
- 조치:
  - DB 인스턴스 상태 확인.
  - `DB_USER`, `DB_PASSWORD`, `DB_DSN` 설정 확인.
  - 최근 스키마/마이그레이션 변경 내역 확인.

## 3. 외부 API 문제

- Kakao/LLM API 장애 또는 Rate Limit 초과.
- 조치:
  - API 상태 페이지/공지 확인.
  - 로그에서 에러 응답 코드/메시지 확인.
  - 필요시 요청 빈도 줄이기 또는 fallback 전략 적용.

## 4. 최적화 실패

- 증상:
  - `/api/optimize` 에서 에러 응답.
- 조치:
  - 입력 데이터(차량 용량, 작업 수요, 위치 등) 검증.
  - 로그에서 OR-Tools 관련 예외/경고 확인.

## 5. 배포 이후 문제

- 신규 버전 배포 후 에러 증가 시:
  - 직전 버전으로 롤백.
  - 변경된 코드/DB 스키마 차이 분석.

