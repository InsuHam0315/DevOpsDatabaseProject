# 개발 워크플로우 가이드

이 문서는 협업 개발 시 권장하는 브랜치 전략, 커밋 메시지, PR 프로세스, 작업 흐름을 정리합니다.

## 브랜치 전략

- 기본 브랜치: `main`
- 기능 개발: `feature/<기능-이름>`
- 버그 수정: `fix/<이슈-번호-또는-간단-설명>`

예시:

```bash
git checkout -b feature/optimization-kpi-tuning
git checkout -b fix/123-dashboard-co2-bug
```

## 커밋 메시지 컨벤션

형식:

```text
<type>: <짧은 설명>
```

- `feat`: 새로운 기능 추가
- `fix`: 버그 수정
- `docs`: 문서 변경
- `refactor`: 리팩토링 (기능 변경 없음)
- `chore`: 빌드/설정/의존성 등 기타 변경

예시:

- `feat: add weekly CO2 trend API`
- `fix: handle empty routes in optimizer`
- `docs: add backend API spec`

## Pull Request (PR) 규칙

- 가능한 작은 단위로 PR 생성.
- PR 템플릿(예: 제목, 변경 내용, 테스트 방법, 스크린샷)을 지켜서 작성.
- 최소 1명 이상 리뷰어 승인 후 머지.
- PR 설명에는:
  - 문제 배경.
  - 변경 내용 요약.
  - 영향받는 영역(프론트/백엔드/DB).

## 작업 단위 쪼개기

가능하면 “기능 단위”로 작업을 분리합니다.

예시:

1. API 스펙 정의 및 문서화 (`docs/API_SPEC.md` 수정).
2. 백엔드 엔드포인트 구현.
3. 프론트엔드 연동 및 UI 구현.
4. 테스트/리뷰/리팩토링.

## 프론트/백엔드 동시 개발 흐름

1. API 스펙을 먼저 `docs/API_SPEC.md` 에 정리.
2. 백엔드에서 스펙에 맞는 엔드포인트 구현.
3. 프론트에서 해당 API를 호출하는 서비스/상태 관리 로직 구현.
4. 통합 테스트 후 필요시 스펙/구현 조정.

## 코드 리뷰 체크리스트

- [ ] 타입/스키마가 명확한가? (TypeScript 타입, Python 타입힌트 등)
- [ ] 에러/예외처리가 적절한가?
- [ ] 로그에 민감정보가 남지 않는가?
- [ ] DB 쿼리가 불필요하게 무겁지 않은가?
- [ ] UI는 모바일/데스크탑에서 크게 깨지지 않는가?
- [ ] 접근성(ARIA, 키보드 네비게이션)을 해치지 않는가?

